<?xml version="1.0" encoding="UTF-8"?>
<views:DVML
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:views="http://www.example.org/views"
    xsi:schemaLocation="http://www.example.org/views views.ecore">
  <domainModel>
    <classes
        name="Staff"
        isId="//@domainModel/@classes.0/@properties.2">
      <properties
          name="firstname"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
      <properties
          name="lastname"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
      <properties
          name="email"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
    </classes>
    <classes
        name="Professor"
        superclass="//@domainModel/@classes.0">
      <properties
          name="visitingProfessor"
          type="//@domainModel/@dataTypes.3"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
      <properties
          name="homeUniversity"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
    </classes>
    <classes
        name="Institute"
        isId="//@domainModel/@classes.2/@properties.1">
      <properties
          name="name"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
      <properties
          name="number"
          type="//@domainModel/@dataTypes.0"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
    </classes>
    <classes
        name="Course"
        isId="//@domainModel/@classes.3/@properties.7">
      <properties
          name="type"
          type="//@domainModel/@enumerations.0"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
      <properties
          name="credits"
          type="//@domainModel/@dataTypes.1"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <properties
          name="description"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <properties
          name="date"
          type="//@domainModel/@dataTypes.4"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <properties
          name="time"
          type="//@domainModel/@dataTypes.4"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <properties
          name="topic"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <properties
          name="keywords"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <properties
          name="title"
          type="//@domainModel/@dataTypes.2"
          multiplicityLowerBound="1"
          multiplicityUpperBound="1"/>
    </classes>
    <dataTypes
        name="Integer"
        type="java.lang.Integer"/>
    <dataTypes
        name="Double"
        type="java.lang.Double"/>
    <dataTypes
        name="String"
        type="java.lang.String"/>
    <dataTypes
        name="Boolean"
        type="java.lang.Boolean"/>
    <dataTypes
        name="DateTime"
        type="java.util.Date"/>
    <enumerations
        name="TeachingType">
      <literals
          name="Lecture"
          value="LE"/>
      <literals
          name="Thesis"
          value="TH"/>
    </enumerations>
    <associations
        name="professors">
      <begin
          name="institute"
          type="//@domainModel/@classes.2"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <end name="professors"
          type="//@domainModel/@classes.1"
          multiplicityLowerBound="1"
          multiplicityUpperBound="-1"/>
    </associations>
    <associations
        name="courses"
        composition="true">
      <begin
          name="institute"
          type="//@domainModel/@classes.2"
          multiplicityLowerBound="0"
          multiplicityUpperBound="1"/>
      <end name="courses"
          type="//@domainModel/@classes.3"
          multiplicityLowerBound="0"
          multiplicityUpperBound="-1"/>
    </associations>
  </domainModel>
  <viewModel
      welcomeViewGroup="//@viewModel/@viewGroups.0">
    <viewGroups
        name="Institute"
        startView="//@viewModel/@viewGroups.0/@views.0">
      <views
          xsi:type="views:ClassOperationView"
          name="Create Institute"
          header="Institute"
          description="This is a form for creating institutes."
          layout="VERTICAL"
          instance="//@domainModel/@classes.2">
        <viewElements
            xsi:type="views:ViewElementGroup"
            label=""
            elementID="grpInstitute"
            header="Institute Details"
            layout="VERTICAL">
          <viewElements
              xsi:type="views:TextViewElement"
              label="Number"
              elementID="txtNumber"
              propertyRef="//@domainModel/@classes.2/@properties.1"
              format="^[0-9]+$"/>
          <viewElements
              xsi:type="views:TextViewElement"
              label="Name"
              elementID="txtName"
              propertyRef="//@domainModel/@classes.2/@properties.0"
              format="^[a-zA-Z -]+$"/>
        </viewElements>
        <viewElements
            xsi:type="views:ListViewElement"
            label="Professors"
            elementID="lstProfessors"
            classRef="//@domainModel/@classes.1">
          <links
              label="Add"
              elementID="lnkCreateProf"
              instance="//@domainModel/@classes.1"
              view="//@viewModel/@viewGroups.0/@views.1"/>
          <buttons
              label="Update"
              elementID="lnkUpdateProf"
              instance="//@domainModel/@classes.1"
              view="//@viewModel/@viewGroups.0/@views.2"/>
        </viewElements>
        <viewElements
            xsi:type="views:TableViewElement"
            label="Courses"
            elementID="tblCourses"
            classRef="//@domainModel/@classes.3">
          <links
              label="Add"
              elementID="lnkCreateCourse"
              instance="//@domainModel/@classes.3"
              view="//@viewModel/@viewGroups.0/@views.3"/>
          <columnSet>
            <columns
                header="Type"
                propertyRef="//@domainModel/@classes.3/@properties.0"/>
            <columns
                header="Title"
                propertyRef="//@domainModel/@classes.3/@properties.7"/>
            <columns
                header="Credits"
                propertyRef="//@domainModel/@classes.3/@properties.1"/>
            <buttons
                label="Delete"
                elementID="lnkDeleteCourse"
                instance="//@domainModel/@classes.3"
                view="//@viewModel/@viewGroups.0/@views.4"/>
          </columnSet>
        </viewElements>
      </views>
      <views
          xsi:type="views:ClassOperationView"
          name="Create Professor"
          header="Professor"
          description=""
          instance="//@domainModel/@classes.1">
        <viewElements
            xsi:type="views:ViewElementGroup"
            label="Personal Details"
            elementID=""
            header="Personal Details"
            layout="VERTICAL">
          <viewElements
              xsi:type="views:TextViewElement"
              label="First name"
              elementID="txtFirstName"
              propertyRef="//@domainModel/@classes.0/@properties.0"
              format=""/>
          <viewElements
              xsi:type="views:TextViewElement"
              label="Last name"
              elementID="txtLastName"
              propertyRef="//@domainModel/@classes.0/@properties.1"
              format=""/>
          <viewElements
              xsi:type="views:TextViewElement"
              label="E-Mail"
              elementID="txtEmail"
              propertyRef="//@domainModel/@classes.0/@properties.2"/>
        </viewElements>
        <viewElements
            xsi:type="views:ViewElementGroup"
            label="Status"
            header="Status">
          <viewElements
              xsi:type="views:TextViewElement"
              label="HomeUni"
              elementID="txtHomeUni"
              propertyRef="//@domainModel/@classes.1/@properties.1"
              format=""/>
          <viewElements
              xsi:type="views:SelectionViewElement"
              label="VisitingProf"
              elementID="selVisitingProf"
              propertyRef="//@domainModel/@classes.1/@properties.0"/>
        </viewElements>
      </views>
      <views
          xsi:type="views:ClassOperationView"
          name="Update Professor"
          header="Update Professor"
          description=""
          instance="//@domainModel/@classes.1"/>
      <views
          xsi:type="views:ClassOperationView"
          name="Create Course"
          header="Course"
          instance="//@domainModel/@classes.3"/>
      <views
          xsi:type="views:ClassOperationView"
          name="Delete Course"
          header="Delete Course"
          description=""
          instance="//@domainModel/@classes.3"/>
    </viewGroups>
  </viewModel>
</views:DVML>
